<h2><i class="fa fa-calendar"></i> Schedule Job</h2>
<br />

<div class="alert alert-info" role="alert" ng-show="checkingFiles">
    <h4><i class="fa fa-spinner fa-spin fa-fw"></i> Checking files...</h4>
</div>

<div class="alert alert-info" role="alert" ng-show="submitting">
    <h4><i class="fa fa-spinner fa-spin fa-fw"></i> Submitting...</h4>
</div>

<div class="alert alert-danger" role="alert" ng-show="error || checkFileError">
    <h4 class="text-danger"><i class="fa fa-exclamation-triangle"></i> Error!</h4>
    {{error}}{{checkFileError}}
</div>

<div class="alert alert-success" role="alert" ng-show="success">
    <h4 class="text-success"><i class="fa fa-check-circle-o"></i> Success!</h4>
    Your processing task was submitted successfully with task ID: {{success.result}}
</div>

<div style="position: relative; left: 50px; white-space: nowrap; overflow: visible;">
    <select
            style="width: 150px;"
            data-ng-repeat="col in columnSelectors"
            data-ng-model="selectedColumn[$index]"
            data-ng-change="updateColumnName($index)">

        <!-- <option data-ng-value="col">{{col}}</option> -->
        <option value="" selected>Select Column</option>
        <option disabled="disabled">────────</option>
        <option data-ng-repeat="option in columnOptions">{{option}}</option>
    </select>
</div>

<hot-table
        hot-id="scheduler"
        settings="settings"
        col-headers="true"
        row-headers="true"
        min-cols="6"
        min-rows="5"
        min-spare-rows="2"
        col-widths="150"
        allow-html="true"
        datarows="data">
</hot-table>

<div class="form-group" style="margin-top: 0.5em;">
    <label for="extension">Extension Replacement (e.g., "d" if your pasted filenames are *.abf but should be *.d)</label>
    <input type="text" class="form-control" id="extension" placeholder="Extension Replacement (Optional)" ng-model="task.extension">
</div>

<div class="form-group">
    <button type="button" class="btn btn-primary" ng-click="checkFiles()" ng-disabled="checkingFiles">
        <span ng-if="checkingFiles" class="spinner"><i class="fa fa-spinner fa-spin"></i></span>
        <span>Check Files</span>
    </button>
    &nbsp;
    <button class="btn btn-primary" type="reset" ng-click="resetTable()">Reset Table</button>
    &nbsp;
    <button class="btn btn-primary" ng-show="checkFileError" ng-click="sortTableByValidity()">Sort Valid/Invalid Files</button>
    &nbsp;
    <button class="btn btn-primary" ng-show="checkFileError" ng-click="removeInvalidRows()">Remove Invalid Files</button>
</div>
<br />


<div class="form-group">
    <label for="taskName">Task Name</label>
    <input type="text" class="form-control" id="taskName" placeholder="Task Name (Optional)" ng-model="task.name">
</div>

<div class="form-group">
    <label for="emailAddress">Email Address</label>
    <input type="text" class="form-control" id="emailAddress" placeholder="Email Address" ng-model="task.email">
</div>

<div class="form-group">
    <label for="platform">Platform</label>
    <select
            id="platform"
            class="form-control"
            data-ng-model="task.platform"
            ng-options="x for x in platformOptions">
    </select>
</div>

<div class="form-group">
    <label for="acquisitionMethod">Acquisition Method</label>
    <div class="input-group">
        <select
                id="acquisitionMethod"
                class="form-control"
                data-ng-model="task.acquisitionMethod"
                ng-options="x.title for x in acquisitionMethodOptions">
        </select>
        <span class="input-group-btn">
            <button class="btn btn-default" type="button"><i class="fa fa-refresh" ng-click="pullAcquisitionMethodsAndPlatforms()"></i></button>
        </span>
    </div>
</div>

<div>
    <button type="button" class="btn btn-primary" ng-click="submit()" ng-disabled="!checkFileSuccess || submitting">
        <span ng-if="submitting" class="spinner"><i class="fa fa-spinner fa-spin"></i></span>
        <span>Submit</span>
    </button>
    <button class="btn btn-primary" type="reset" ng-click="reset()">Reset Form</button>
</div>